<nz-modal [(nzVisible)]="isVisible" [nzMaskClosable]="false" (nzOnCancel)="handleCancel()" [nzFooter]="editorFooter"
  nzWidth="1050" [nzTitle]="'纪检处理'" [nzStyle]="{ top: '65px' }" [nzBodyStyle]="{
    'max-height': '455px',
    'min-height': '300px',
    'overflow-y': 'auto',
    'overflow-x': 'hidden',
    padding: '24px 24px 0 24px'
  }">
  <form nz-form>
    <nz-form-item>
      <nz-form-label nzSpan="4">问题名称</nz-form-label>
      <nz-form-control nzSpan="8">
        <input nz-input />
      </nz-form-control>
      <nz-form-label nzSpan="4">整改负责人</nz-form-label>
      <nz-form-control nzSpan="8">
        <nz-select nzAllowClear>
          <nz-option nzValue="jack" nzLabel="Jack"></nz-option>
          <nz-option nzValue="lucy" nzLabel="Lucy"></nz-option>
        </nz-select>
      </nz-form-control>
    </nz-form-item>
    <nz-form-item>
      <nz-form-label nzSpan="4">整改截止时间</nz-form-label>
      <nz-form-control nzSpan="8">
        <nz-date-picker [(ngModel)]="date" (ngModelChange)="''" [nzFormat]="'yyyy-MM-dd'"></nz-date-picker>
      </nz-form-control>
      <nz-form-label nzSpan="4">问题类型</nz-form-label>
      <nz-form-control nzSpan="8">
        <nz-select nzAllowClear>
          <nz-option nzValue="jack" nzLabel="Jack"></nz-option>
          <nz-option nzValue="lucy" nzLabel="Lucy"></nz-option>
        </nz-select>
      </nz-form-control>
    </nz-form-item>
    <nz-form-item>
      <nz-form-label nzSpan="4">问题来源</nz-form-label>
      <nz-form-control nzSpan="20">
        <textarea nz-input rows="3"></textarea>
      </nz-form-control>
    </nz-form-item>
    <nz-form-item>
      <nz-form-label nzSpan="4">问题描述</nz-form-label>
      <nz-form-control nzSpan="20">
        <textarea nz-input rows="3"></textarea>
      </nz-form-control>
    </nz-form-item>
    <nz-form-item>
      <nz-form-label nzSpan="4">移交原因</nz-form-label>
      <nz-form-control nzSpan="20">
        <textarea nz-input rows="3"></textarea>
      </nz-form-control>
    </nz-form-item>
    <nz-form-item>
      <nz-form-label nzSpan="4">是否发函</nz-form-label>
      <nz-form-control nzSpan="8">
        <nz-radio-group [(ngModel)]="radioLetterValue">
          <label nz-radio nzValue="A">已发函</label>
          <label nz-radio nzValue="B">未发函</label>
        </nz-radio-group>
      </nz-form-control>
      <nz-form-label nzSpan="4">是否处分</nz-form-label>
      <nz-form-control nzSpan="8">
        <nz-radio-group [(ngModel)]="radioDisciplineValue">
          <label nz-radio nzValue="A">已处分</label>
          <label nz-radio nzValue="B">未处分</label>
        </nz-radio-group>
      </nz-form-control>
    </nz-form-item>
    <nz-form-item>
      <nz-form-label nzSpan="4">处分记录</nz-form-label>
      <nz-form-control nzSpan="20">
        <nz-table #editRowTable nzBordered [nzData]="listOfData" [nzShowPagination]="false" [nzFooter]="footer">
          <thead>
            <tr>
              <th nzWidth="25%">处分类型</th>
              <th nzWidth="15%">处分人数</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let data of editRowTable.data">
              <td>
                <ng-container *ngIf="!editCache[data.id].edit; else nameInputTpl">
                  {{ data.name }}
                </ng-container>
                <ng-template #nameInputTpl>
                  <input type="text" nz-input [(ngModel)]="editCache[data.id].data.name" />
                </ng-template>
              </td>
              <td>
                <ng-container *ngIf="!editCache[data.id].edit; else ageInputTpl">
                  {{ data.age }}
                </ng-container>
                <ng-template #ageInputTpl>
                  <input type="text" nz-input [(ngModel)]="editCache[data.id].data.age" />
                </ng-template>
              </td>
            </tr>
          </tbody>
          <ng-template #footer>
            <button nz-button nzType="primary" (click)="addRow()"><i nz-icon nzType="plus"
                nzTheme="outline"></i>添加</button>
          </ng-template>
        </nz-table>
      </nz-form-control>
    </nz-form-item>
    <nz-form-item>
      <nz-form-label nzSpan="4">处理描述</nz-form-label>
      <nz-form-control nzSpan="20">
        <nz-date-picker></nz-date-picker>
      </nz-form-control>
    </nz-form-item>
    <nz-form-item>
      <nz-form-label nzSpan="4">上传附件</nz-form-label>
      <nz-form-control nzSpan="20">
        <nz-upload nzAction="https://jsonplaceholder.typicode.com/posts/">
          <button nz-button><i nz-icon nzType="upload"></i><span>上传文件</span></button>
        </nz-upload>
      </nz-form-control>
    </nz-form-item>
  </form>
  <ng-template #editorFooter>
    <div class="steps-action">
      <button nz-button nzType="default" (click)="handleCancel()">取消</button>
      <button nz-button nzType="primary">
        <span>完成</span>
      </button>
    </div>
  </ng-template>
</nz-modal>