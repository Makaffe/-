<nz-modal
  [(nzVisible)]="isVisible"
  [nzMaskClosable]="false"
  (nzOnCancel)="handleCancel()"
  [nzFooter]="editorFooter"
  nzWidth="1050"
  [nzTitle]="'问题分配'"
  [nzStyle]="{ top: '65px' }"
  [nzBodyStyle]="{
    'max-height': '455px',
    'min-height': '300px',
    'overflow-y': 'auto',
    'overflow-x': 'hidden',
    padding: '24px 24px 0 24px'
  }"
>
  <form nz-form>
    <nz-form-item>
      <nz-form-label nzSpan="4">问题名称</nz-form-label>
      <nz-form-control nzSpan="8">
        <input nz-input />
      </nz-form-control>
      <nz-form-label nzSpan="4">问题类型</nz-form-label>
      <nz-form-control nzSpan="8">
        <nz-select style="width:200px" nzAllowClear>
          <nz-option nzValue="jack" nzLabel="Jack"></nz-option>
          <nz-option nzValue="lucy" nzLabel="Lucy"></nz-option>
        </nz-select>
      </nz-form-control>
    </nz-form-item>
    <nz-form-item>
      <nz-form-label nzSpan="4">问题描述</nz-form-label>
      <nz-form-control nzSpan="20">
        <textarea nz-input rows="3"></textarea>
      </nz-form-control>
    </nz-form-item>
    <nz-form-item>
      <nz-form-label nzSpan="4">是否拆分问题</nz-form-label>
      <nz-form-control nzSpan="20">
        <nz-radio-group name="radioValue" [(ngModel)]="radioValue">
          <label nz-radio [nzValue]="true">是</label>
          <label nz-radio [nzValue]="false">否</label>
        </nz-radio-group>
      </nz-form-control>
    </nz-form-item>
    <ng-container *ngIf="!radioValue">
      <nz-form-item>
        <nz-form-label nzSpan="4">整改具体负责人</nz-form-label>
        <nz-form-control nzSpan="20">
          <nz-select style="width:200px" nzAllowClear>
            <nz-option nzValue="jack" nzLabel="Jack"></nz-option>
            <nz-option nzValue="lucy" nzLabel="Lucy"></nz-option>
          </nz-select>
        </nz-form-control>
      </nz-form-item>
      <nz-form-item>
        <nz-form-label nzSpan="4">整改措施提交时间</nz-form-label>
        <nz-form-control nzSpan="20">
          <nz-date-picker></nz-date-picker>
        </nz-form-control>
      </nz-form-item>
      <nz-form-item>
        <nz-form-label nzSpan="4">整改要求</nz-form-label>
        <nz-form-control nzSpan="20">
          <textarea nz-input rows="8"></textarea>
        </nz-form-control>
      </nz-form-item>
    </ng-container>
    <!--问题拆分表单-->
    <ng-container *ngIf="radioValue">
      <nz-form-item>
        <nz-form-label nzSpan="4">子问题列表</nz-form-label>
        <nz-form-control nzSpan="20">
          <nz-table  [nzFooter]="Footer" #basicTable [nzData]="listOfData" [nzScroll]="{ x: '900px' }">
            <thead>
              <tr>
                <th nzWidth="100px">子问题名称</th>
                <th nzWidth="100px">子问题描述</th>
                <th nzWidth="150px">子问题审计建议</th>
                <th nzWidth="100px">子问题类型</th>
                <th nzWidth="150px">子问题整改部门</th>
                <th nzWidth="150px">子问题整改负责人</th>
                <th nzWidth="150px">整改措施提交时间</th>
                <th nzWidth="100px">整改要求</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let data of basicTable.data">
                <td><input nz-input/></td>
                <td><input nz-input/></td>
                <td><input nz-input/></td>
                <td><input nz-input/></td>
                <td><input nz-input/></td>
                <td><input nz-input/></td>
                <td><input nz-input/></td>
                <td><input nz-input/></td>
              </tr>
            </tbody>
            <ng-template #Footer>
               <button nz-button nzType="primary" (click)="addRow()">
                <i nz-icon type="plus" theme="outline"></i>
                 增加子问题</button>
            </ng-template>
          </nz-table>
        </nz-form-control>
      </nz-form-item>
    </ng-container>
  </form>
  <ng-template #editorFooter>
    <div class="steps-action">
      <button nz-button nzType="default" (click)="handleCancel()">取消</button>
      <button nz-button nzType="primary">
        <span>完成</span>
      </button>
    </div>
  </ng-template>
</nz-modal>
