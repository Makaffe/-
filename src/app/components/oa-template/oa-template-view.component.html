<as-split direction="horizontal" unit="pixel" [useTransition]="true" gutterSize="2"
  (gutterClick)="leftSize = leftSize == 0 ? LEFT_WIDTH : 0">
  <!-- 左侧树 -->
  <as-split-area [size]="leftSize" minSize="120" maxSize="180" class="bg-white" style="padding:10px 0 0 10px">
    <div nz-row>
      <div nz-col [nzSpan]="12" class="tree-top-title">
        <span><strong style="font-size: 20px;">发文类型</strong></span>
      </div>
      <div nz-col [nzSpan]="12" class="tree-top-btn">
        <button nz-button (click)="this.isVisible = true;">
          <i nz-icon nzType="plus-circle" nzTheme="outline"></i>
        </button>
        <button nz-button (click)="this.isVisible = true;">
          <i nz-icon nzType="edit" nzTheme="outline"></i>
        </button>
        <nz-popconfirm (nzOnConfirm)="delete()" [nzTitle]="'是否要删除该发文类型？'">
          <button nz-button class="mb-sm" nz-popconfirm>
            <i nz-icon type="delete" theme="outline"></i>
          </button>
        </nz-popconfirm>
      </div>
    </div>
    <nz-input-group [nzSuffix]="suffixIcon" style="width: 258px;">
      <input type="text" nz-input placeholder="关键字搜索" [(ngModel)]="searchValue" />
    </nz-input-group>
    <ng-template #suffixIcon>
      <i nz-icon nzType="search"></i>
    </ng-template>
    <nz-tree [nzData]="nodes" nzShowLine (nzClick)="''" [nzSearchValue]="searchValue"> </nz-tree>
  </as-split-area>
  <!--右侧表格-->
  <as-split-area [size]="'*'">
    <as-split direction="vertical" unit="pixel" gutterSize="0">
      <as-split-area class="flex-fixed" [size]="40">
        <div class="app-toor-bar">
          <div nz-row nzType="flex" nzJustify="space-around" nzAlign="middle">
            <div nz-col nzSpan="24">
              <button nz-button (click)="create()"><i nz-icon type="plus" theme="outline"></i>新增</button>
              <button nz-button><i nz-icon type="reload" theme="outline"></i>刷新</button>
            </div>
          </div>
          <!-- 搜索栏 -->
          <form #searchForm="ngForm" nz-form class="matech-search-form">
            <div nz-row [nzGutter]="24" nzType="flex" nzAlign="middle" class="search-row">
              <!-- 搜索框 -->
              <div nz-col [nzSpan]="18">
                <div nz-col [nzSpan]="3"></div>
                <div nz-col [nzSpan]="7">
                  <nz-form-item>
                    <nz-form-label [nzSpan]="7">发文内容</nz-form-label>
                    <nz-form-control [nzSpan]="19">
                      <input nz-input type="text" name="name" placeholder="请输入搜索发文内容" />
                    </nz-form-control>
                  </nz-form-item>
                </div>
                <div nz-col [nzSpan]="3"></div>
                <div nz-col [nzSpan]="7">
                  <nz-form-item>
                    <nz-form-label [nzSpan]="7">用途</nz-form-label>
                    <nz-form-control [nzSpan]="19">
                      <input nz-input type="text" name="name" placeholder="请输入搜索用途" />
                    </nz-form-control>
                  </nz-form-item>
                </div>
              </div>
              <!-- 查找按钮 -->
              <div nz-col [nzSpan]="4">
                <button nz-button nzType="default"><i nz-icon nzType="rest" nzTheme="outline"></i>重置</button>
                <button nz-button nzType="primary"><i nz-icon nzType="search" nzTheme="outline"></i>查找</button>
              </div>
            </div>
          </form>
        </div>
      </as-split-area>
      <as-split-area [size]="'*'">
        <oa-template-list></oa-template-list>
      </as-split-area>
    </as-split>
  </as-split-area>
</as-split>

<oa-template-detail #oaTemplateDetailComponent></oa-template-detail>

<nz-modal [(nzVisible)]="isVisible" [nzMaskClosable]="false" (nzOnCancel)="this.isVisible = false;"
  [nzFooter]="editorFooter" nzWidth="800" [nzTitle]="'发文类型详情'" [nzStyle]="{ top: '65px' }" [nzBodyStyle]="{
    'overflow-y': 'auto',
    'overflow-x': 'hidden',
    padding: '24px 24px 0 24px'
  }">
  <form nz-form #form="ngForm">
    <nz-form-item>
      <nz-form-label nzSpan="4">发文类型</nz-form-label>
      <nz-form-control nzSpan="20"><input nz-input name="name" /></nz-form-control>
    </nz-form-item>
    <nz-form-item>
      <nz-form-label nzSpan="4">排序</nz-form-label>
      <nz-form-control nzSpan="20">
        <nz-input-number [nzMin]="0" [nzStep]="1"></nz-input-number>
      </nz-form-control>
    </nz-form-item>
  </form>
  <ng-template #editorFooter>
    <div class="steps-action">
      <button nz-button nzType="default" (click)="this.isVisible = false;">取消</button>
      <button nz-button nzType="primary">
        <span>完成</span>
      </button>
    </div>
  </ng-template>
</nz-modal>
